import{B as f}from"./BreadcrumbsComponent.9ca5c3f7.js";import{_ as g,b as c,e as y,o as u,c as _,d as t,f as k,F as p,r as C,z as r,A as h,i as a,n as b,t as d}from"./app.84c357ef.js";const T={name:"IndexView",components:{BreadcrumbsComponent:f},mounted(){this.getTags()},data(){return{tags:[],editId:null,editTitle:null,editDescription:null,title:null,description:null}},methods:{store(){c.post("/api/admin/blog/tags",{title:this.title,description:this.description}).then(i=>{console.log(i),this.title=null,this.description=null,this.getTags(),this.$wkToast(i.data.message,{horizontalPosition:"right",verticalPosition:"top",transition:"fade"})}).catch(i=>{console.log(i)})},remove(i){c.delete(`/api/admin/blog/tags/${i}`).then(s=>{console.log(s),this.getTags(),this.$wkToast(s.data.message,{className:"wk-alert",horizontalPosition:"right",verticalPosition:"top",transition:"fade"})}).catch(s=>{console.log(s)})},update(i){c.patch(`/api/admin/blog/tags/${i}`,{title:this.editTitle,description:this.editDescription}).then(s=>{console.log(s),this.editId=null,this.editTitle=null,this.editDescription=null,this.getTags(),this.$wkToast(s.data.message,{horizontalPosition:"right",verticalPosition:"top",transition:"fade"})}).catch(s=>{console.log(s)})},getTags(){c.get("/api/admin/blog/tags").then(i=>{this.tags=i.data.data,console.log(this.tags)}).catch(i=>{console.log(i)})},changeEditId(i,s=null,m=null){this.editId=this.editId?null:i,this.editTitle=this.editTitle?null:s,this.editDescription=this.editDescription?null:m},isEdit(i){return this.editId===i},closeEditFields(){this.editId=null,this.editTitle=null,this.editDescription=null}}},D={class:"content-wrapper"},w={class:"content"},x={class:"container-fluid"},B={class:"col-12"},E={class:"card mt-2"},I=t("div",{class:"card-header"},[t("h3",{class:"card-title"},"Post tags"),t("button",{type:"button",class:"btn btn-primary fa-pull-right","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," Create tag ")],-1),P={class:"card-body"},V={id:"example2",class:"table table-responsive-lg table-bordered table-hover"},z=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Title"),t("th",null,"Description"),t("th",null,"Post count"),t("th",null,"Created"),t("th",null,"Updated"),t("th",null,"Actions"),t("th",null,"Delete")])],-1),F=t("td",null,"1",-1),U={class:"justify-content-center"},L=["onClick"],N=t("i",{class:"fas fa-edit"},null,-1),j=[N],A=["onClick"],M=t("i",{class:"fas fa-trash-alt"},null,-1),S=[M],q=t("td",null,"1",-1),G={class:"justify-content-center"},H=["onClick"],J=t("i",{class:"fas fa-edit"},null,-1),K=[J],O=t("i",{class:"fas fa-window-close"},null,-1),Q=[O],R=["onClick"],W=t("i",{class:"fas fa-trash-alt"},null,-1),X=[W],Y={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Z={class:"modal-dialog"},$={class:"modal-content"},tt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"staticBackdropLabel"},"Create category")],-1),st={class:"modal-body"},et={class:"form-group mb-5"},it={class:"row"},lt=t("div",{class:"col-md-2"},[t("label",{for:"title"},"Title")],-1),ot={class:"col-md-10"},nt={class:"form-group mb-5"},dt={class:"row"},at=t("div",{class:"col-md-2"},[t("label",{for:"title"},"Description")],-1),ct={class:"col-md-10"},rt={class:"modal-footer"},ht=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function ut(i,s,m,_t,o,l){const v=y("BreadcrumbsComponent");return u(),_(p,null,[t("div",D,[k(v),t("section",w,[t("div",x,[t("div",B,[t("div",E,[I,t("div",P,[t("table",V,[z,t("tbody",null,[(u(!0),_(p,null,C(o.tags,e=>(u(),_(p,null,[t("tr",{class:b(l.isEdit(e.id)?"d-none":"")},[t("td",null,d(e.id),1),t("td",null,d(e.title),1),t("td",null,d(e.description),1),F,t("td",null,d(e.create),1),t("td",null,d(e.update),1),t("td",U,[t("a",{title:"Edit",class:"btn btn-sm btn-primary m-1",onClick:a(n=>l.changeEditId(e.id,e.title,e.description),["prevent"]),href:"#"},j,8,L)]),t("td",null,[t("button",{title:"Delete",onClick:a(n=>l.remove(e.id),["prevent"]),type:"button",class:"btn btn-sm btn-danger m-1"},S,8,A)])],2),t("tr",{class:b(l.isEdit(e.id)?"":"d-none")},[t("td",null,d(e.id),1),t("td",null,[r(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>o.editTitle=n),class:"form-control"},null,512),[[h,o.editTitle]])]),t("td",null,[r(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>o.editDescription=n),class:"form-control"},null,512),[[h,o.editDescription]])]),q,t("td",null,d(e.create),1),t("td",null,d(e.update),1),t("td",G,[t("a",{title:"Edit",class:"btn btn-sm btn-primary m-1",onClick:a(n=>l.update(e.id),["prevent"]),href:"#"},K,8,H),t("a",{title:"Close",class:"btn btn-sm btn-danger m-1",onClick:s[2]||(s[2]=a((...n)=>l.closeEditFields&&l.closeEditFields(...n),["prevent"])),href:"#"},Q)]),t("td",null,[t("button",{title:"Delete",onClick:a(n=>l.remove(e.id),["prevent"]),type:"button",class:"btn btn-sm btn-danger m-1"},X,8,R)])],2)],64))),256))])])])])])])])]),t("div",Y,[t("div",Z,[t("div",$,[tt,t("div",st,[t("div",et,[t("div",it,[lt,t("div",ot,[r(t("input",{type:"text",id:"title","onUpdate:modelValue":s[3]||(s[3]=e=>o.title=e),class:"form-control ml-2"},null,512),[[h,o.title]])])])]),t("div",nt,[t("div",dt,[at,t("div",ct,[r(t("input",{type:"text",id:"description","onUpdate:modelValue":s[4]||(s[4]=e=>o.description=e),class:"form-control ml-2"},null,512),[[h,o.description]])])])])]),t("div",rt,[ht,t("button",{onClick:s[5]||(s[5]=a((...e)=>l.store&&l.store(...e),["prevent"])),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Create")])])])])],64)}const bt=g(T,[["render",ut]]);export{bt as default};
