import{B as p}from"./BreadcrumbsComponent.9ca5c3f7.js";import{_ as b,e as r,o as l,c as a,f as d,d as t,w as _,F as g,r as f,t as o,i as v,g as C}from"./app.84c357ef.js";const x={name:"IndexView",components:{BreadcrumbsComponent:p},mounted(){this.getPosts()},data(){return{posts:[]}},methods:{getPosts(){axios.get("/api/admin/blog/posts").then(s=>{console.log(s.data.data),this.posts=s.data.data}).catch(s=>{console.log(s)})},remove(s){axios.delete(`/api/admin/blog/posts/${s}`).then(n=>{this.getPosts(),this.$wkToast(n.data.message,{horizontalPosition:"right",verticalPosition:"top",transition:"fade"})}).catch(n=>{console.log(n)})}}},y={class:"content-wrapper"},k={class:"content"},w={class:"container-fluid"},B={class:"col-12"},I={class:"card mt-2"},P={class:"card-header"},V=t("h3",{class:"card-title"},"All posts",-1),$={class:"fa-pull-right"},D=C("Create post"),T={class:"card-body"},N={id:"example2",class:"table table-responsive-lg table-bordered table-hover"},A=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Title"),t("th",null,"Image"),t("th",null,"Category"),t("th",null,"Total comments"),t("th",null,"Created"),t("th",null,"Updated"),t("th",null,"Change status"),t("th",null,"Action"),t("th",null,"Delete")])],-1),E=t("td",null," Image",-1),F=t("i",{class:"fas fa-edit"},null,-1),z=["onClick"],L=t("i",{class:"fas fa-trash-alt"},null,-1),M=[L];function S(s,n,U,j,u,h){const m=r("BreadcrumbsComponent"),i=r("router-link");return l(),a("div",y,[d(m),t("section",k,[t("div",w,[t("div",B,[t("div",I,[t("div",P,[V,t("div",$,[d(i,{class:"btn btn-primary mr-1",to:{name:"post.create"}},{default:_(()=>[D]),_:1},8,["to"])])]),t("div",T,[t("table",N,[A,t("tbody",null,[(l(!0),a(g,null,f(u.posts,e=>{var c;return l(),a("tr",null,[t("td",null,o(e.id),1),t("td",null,o(e.title),1),E,t("td",null,o(e.category.title),1),t("td",null,o((c=e.totalComments)!=null?c:0),1),t("td",null,o(e.create),1),t("td",null,o(e.update),1),t("td",null,o(e.status),1),t("td",null,[d(i,{title:"Edit",class:"btn btn-sm btn-primary m-1",to:{name:"post.edit",params:{id:e.id}}},{default:_(()=>[F]),_:2},1032,["to"])]),t("td",null,[t("button",{title:"Delete",onClick:v(q=>h.remove(e.id),["prevent"]),type:"button",class:"btn btn-sm btn-danger m-1"},M,8,z)])])}),256))])])])])])])])])}const J=b(x,[["render",S]]);export{J as default};
