import{B as x}from"./BreadcrumbsComponent.9ca5c3f7.js";import{s as C}from"./default.css_vue_type_style_index_0_src_true_lang.40ff076f.js";import{$ as y}from"./dropzone.2615559f.js";import{_ as f,o as a,c as n,d as e,i as c,F as z,r as b,t as _,h as A,b as m,e as h,f as v,x as B,y as w}from"./app.84c357ef.js";const k={name:"ListBoxComponent",data(){return{selectedSize:0,addedSizes:[],totalSelectSizes:0}},props:{sizes:Object},methods:{addToSelect(){let s=this.selectedSize,o=this.sizes.find(i=>i.value==s);this.addedSizes.push(o),this.totalSelectSizes=this.addedSizes.length},removeFromAddedSize(){let s=this.selectedSize,o=this.addedSizes.findIndex(i=>i.value==s);this.addedSizes.splice(o,1),this.totalSelectSizes=this.addedSizes.length},selectSize(s){this.selectedSize=s.target.value}}},$={class:"form-group"},F=e("div",{class:"row"},[e("label",null,"Sizes")],-1),V={class:"row"},L={class:"col-md-6"},P=e("label",null,"All",-1),I=["value"],T={class:"col-md-6"},E=e("label",null,"Selected",-1),M=["value"],N={class:"fa-pull-right"};function D(s,o,i,p,d,l){return a(),n("div",$,[F,e("div",V,[e("div",L,[P,e("div",null,[e("button",{onClick:o[0]||(o[0]=c((...t)=>l.addToSelect&&l.addToSelect(...t),["prevent"])),class:"btn-block btn-primary mb-1"}," add "),e("select",{onChange:o[1]||(o[1]=c(t=>l.selectSize(t),["prevent"])),class:"listbox container-fluid",multiple:"multiple"},[(a(!0),n(z,null,b(i.sizes,t=>(a(),n("option",{id:"select-option-1",value:t.value},_(t.label),9,I))),256))],32)])]),e("div",T,[E,e("div",null,[e("button",{onClick:o[2]||(o[2]=c((...t)=>l.removeFromAddedSize&&l.removeFromAddedSize(...t),["prevent"])),class:"btn-block btn-danger mb-1"}," remove "),e("select",{onChange:o[3]||(o[3]=c(t=>l.selectSize(t),["prevent"])),class:"listbox container-fluid",multiple:"multiple"},[d.addedSizes?(a(!0),n(z,{key:0},b(d.addedSizes,t=>(a(),n("option",{value:t.value},_(t.label),9,M))),256)):A("",!0)],32),e("span",N,"Total added size: "+_(d.totalSelectSizes),1)])])])])}const R=f(k,[["render",D]]);const j={name:"AddSingleProductView",mounted(){this.dropzone=new y(this.$refs.dropzone,{url:"/api/admin/products/single",maxFiles:6,autoProcessQueue:!1,addRemoveLinks:!0})},updated(){},data(){return{dropzone:null,colors:[{value:1,label:"Red"},{value:2,label:"Green"},{value:3,label:"White"},{value:4,label:"Black"}],sizes:[{value:1,label:"S"},{value:2,label:"M"},{value:3,label:"L"},{value:4,label:"XL"}]}},methods:{getSizes(){m.get("/api/sizes").then(s=>{this.sizes=s.data.data,console.log(s)}).catch(s=>{console.log(s)})},getColors(){m.get("/api/colors").then(s=>{this.sizes=s.data.data,console.log(s)}).catch(s=>{console.log(s)})},store(){const s=new FormData;let o=this.$refs.sizes.addedSizes,i=1,p=100,d=1;s.append("color_id",i),s.append("product_id",d),s.append("price",p);let l=this.dropzone.getAcceptedFiles();o.forEach(t=>{s.append("sizes[]",t.value)}),l.forEach(t=>{s.append("gallery[]",t)}),console.log(s),m.post("/api/admin/products/single",s).then(t=>{console.log(t),this.dropzone.removeAllFiles()}).catch(t=>{console.log(t)})}},components:{ListBoxComponent:R,BreadcrumbsComponent:x,Multiselect:C}},r=s=>(B("data-v-4c507df3"),s=s(),w(),s),G={class:"content-wrapper"},O={class:"content"},Q={class:"container-fluid"},U={class:"card"},W=r(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add single product in group")],-1)),X={class:"card-body"},q={class:"form-group"},H=r(()=>e("label",{for:"gallery"},"Product gallery",-1)),J={ref:"dropzone",class:"dropzone p-3 text-white",id:"gallery"},K=r(()=>e("div",{class:"dz-message"},[e("h5",{class:"text-center"},"Add images")],-1)),Y=[K],Z={class:"form-group"},ee=r(()=>e("label",{for:"colors"},"Color",-1)),se=r(()=>e("div",{class:"form-group"},[e("label",{for:"price"},"Price"),e("div",{class:"input-group"},[e("input",{id:"price",class:"form-control",type:"number",placeholder:"price..."})])],-1)),te={class:"card-footer"};function oe(s,o,i,p,d,l){const t=h("BreadcrumbsComponent"),g=h("multiselect"),S=h("ListBoxComponent");return a(),n("div",G,[v(t),e("section",O,[e("div",Q,[e("div",U,[W,e("div",X,[e("div",q,[H,e("div",J,Y,512)]),e("div",Z,[ee,v(g,{modelValue:d.colors.value,"onUpdate:modelValue":o[0]||(o[0]=u=>d.colors.value=u),id:"colors",mode:"tags","close-on-select":!1,searchable:!0,"create-option":!0,options:d.colors},null,8,["modelValue","options"])]),v(S,{ref:"sizes",sizes:d.sizes},null,8,["sizes"]),se]),e("div",te,[e("button",{onClick:o[1]||(o[1]=c((...u)=>l.store&&l.store(...u),["prevent"])),type:"submit",class:"btn btn-primary"},"Add")])])])])])}const ne=f(j,[["render",oe],["__scopeId","data-v-4c507df3"]]);export{ne as default};
